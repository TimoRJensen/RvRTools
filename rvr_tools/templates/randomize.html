{% extends "layout.html" %}
{% block content %}
<div class="col-md-12">
    <form action="" method="post">
        {{ form.hidden_tag() }}
        <div class="card mb-2 bg-light">
            <h4 class="card-header">Suits Randomizer</h4>
            <div class="card-body">
                {{ form.range_str.label(class="form-control-label") }}
                {% if form.range_str.errors %}
                {{ form.range_str(class="form-control form-control-lg is-invalid mb-2" ) }}
                <div class="invalid-feedback">
                    {% for error in form.range_str.errors %}#
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ form.range_str(class="form-control form-control-lg mb-2") }}
                {% endif %}
                {{ form.submit(class="btn btn-outline-dark btn-sm mb-2") }}
            </div>
            <div class="card-footer">
                <div class="mb-2">
                    <strong>Output:</strong>
                    <br>
                    <div id="output" class="border rounded-3 pl-2">{{ r }}</div>
                </div>
                <button onclick="copyElementText('output')" type="button"
                    class="btn btn-outline-dark btn-sm">Copy</button>
            </div>
        </div>
</div>
</form>

<script>
    function copyElementText(id) {
        var text = document.getElementById(id).innerText;
        var dummy = document.createElement("textarea");
        document.body.appendChild(dummy);
        dummy.value = text;
        dummy.select();
        document.execCommand("copy");
        alert("Copied the text: " + dummy.value);
        document.body.removeChild(dummy);
    }
</script>

{% endblock content %}